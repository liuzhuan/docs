import{_ as s,c as n,o as a,a as l}from"./app.e5c0cc1d.js";const u=JSON.parse('{"title":"Rollup","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5FEB\u901F\u8D77\u6B65","slug":"\u5FEB\u901F\u8D77\u6B65","link":"#\u5FEB\u901F\u8D77\u6B65","children":[]},{"level":2,"title":"\u517C\u5BB9\u6027","slug":"\u517C\u5BB9\u6027","link":"#\u517C\u5BB9\u6027","children":[]},{"level":2,"title":"\u547D\u4EE4\u884C\u63A5\u53E3","slug":"\u547D\u4EE4\u884C\u63A5\u53E3","link":"#\u547D\u4EE4\u884C\u63A5\u53E3","children":[{"level":3,"title":"\u914D\u7F6E\u6587\u4EF6","slug":"\u914D\u7F6E\u6587\u4EF6","link":"#\u914D\u7F6E\u6587\u4EF6","children":[]}]}],"relativePath":"rollup/index.md"}'),p={name:"rollup/index.md"},e=l(`<h1 id="rollup" tabindex="-1">Rollup <a class="header-anchor" href="#rollup" aria-hidden="true">#</a></h1><p><a href="https://rollupjs.org/guide/en/" target="_blank" rel="noreferrer">Rollup</a> \u662F\u4E00\u4E2A JavaScript \u6A21\u5757\u6253\u5305\u5668\u3002</p><h2 id="\u5FEB\u901F\u8D77\u6B65" tabindex="-1">\u5FEB\u901F\u8D77\u6B65 <a class="header-anchor" href="#\u5FEB\u901F\u8D77\u6B65" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#676E95;"># \u5B89\u88C5</span></span>
<span class="line"><span style="color:#A6ACCD;">npm install --global rollup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5047\u8BBE\u5165\u53E3\u6587\u4EF6\u662F main.js \uFF0C\u8F93\u51FA\u6587\u4EF6\u662F bundle.js</span></span>
<span class="line"><span style="color:#676E95;"># \u9488\u5BF9\u6D4F\u89C8\u5668\u6253\u5305</span></span>
<span class="line"><span style="color:#A6ACCD;">rollup main.js --file bundle.js --format iife</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u9488\u5BF9 Node.js \u6253\u5305</span></span>
<span class="line"><span style="color:#A6ACCD;">rollup main.js --file bundle.js --format cjs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u9488\u5BF9\u6D4F\u89C8\u5668\u548C Node.js \u6253\u5305</span></span>
<span class="line"><span style="color:#A6ACCD;">rollup main.js --file bundle.js --format umd --name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">myBundle</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="\u517C\u5BB9\u6027" tabindex="-1">\u517C\u5BB9\u6027 <a class="header-anchor" href="#\u517C\u5BB9\u6027" aria-hidden="true">#</a></h2><p>\u5229\u7528 <a href="https://github.com/rollup/plugins/tree/master/packages/commonjs" target="_blank" rel="noreferrer"><code>@rollup/plugin-commonjs</code></a> \u63D2\u4EF6\uFF0CRollup \u53EF\u4EE5\u628A CommonJS \u6A21\u5757\u8F6C\u5316\u4E3A ES \u6A21\u5757\uFF0C\u8FD9\u6837\u5C31\u80FD\u53C2\u4E0E\u6253\u5305\u3002</p><div class="language-js line-numbers-mode"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;">// rollup.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> commonjs </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@rollup/plugin-commonjs</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">input</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">dir</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">output</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cjs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#82AAFF;">commonjs</span><span style="color:#A6ACCD;">()]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="\u547D\u4EE4\u884C\u63A5\u53E3" tabindex="-1">\u547D\u4EE4\u884C\u63A5\u53E3 <a class="header-anchor" href="#\u547D\u4EE4\u884C\u63A5\u53E3" aria-hidden="true">#</a></h2><h3 id="\u914D\u7F6E\u6587\u4EF6" tabindex="-1">\u914D\u7F6E\u6587\u4EF6 <a class="header-anchor" href="#\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a></h3><p>\u9ED8\u8BA4\u7684\u914D\u7F6E\u6587\u4EF6\u540D\u4E3A <code>rollup.config.js</code>\u3002</p><div class="language-js line-numbers-mode"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;">// \u53EF\u4EE5\u5BFC\u51FA\u6570\u7EC4\uFF08\u5BF9\u5E94\u591A\u4E2A\u8F93\u5165\uFF09</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u6838\u5FC3\u8F93\u5165\u9009\u9879</span></span>
<span class="line"><span style="color:#A6ACCD;">  external</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">input</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/main.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  plugins</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u9AD8\u7EA7\u8F93\u5165\u9009\u9879</span></span>
<span class="line"><span style="color:#A6ACCD;">  cache</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  onwarn</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  preserveEntrySignatures</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  strictDeprecations</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u5371\u9669\u533A</span></span>
<span class="line"><span style="color:#A6ACCD;">  acorn</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  acornInjectPlugins</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  context</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  moduleContext</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  preserveSymlinks</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  shimMissingExports</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  treeshake</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u5B9E\u9A8C\u7279\u6027</span></span>
<span class="line"><span style="color:#A6ACCD;">  experimentalCacheExpiry</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  perf</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u5FC5\u9009\u9879\uFF08\u53EF\u4EE5\u662F\u6570\u7EC4\uFF0C\u5BF9\u5E94\u591A\u4E2A\u8F93\u51FA\uFF09</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// \u6838\u5FC3\u8F93\u51FA\u9009\u9879</span></span>
<span class="line"><span style="color:#A6ACCD;">    dir</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">file</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bundle.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cjs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    globals</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    name</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    plugins</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div>`,11),o=[e];function r(c,t,i,D,y,F){return a(),n("div",null,o)}const C=s(p,[["render",r]]);export{u as __pageData,C as default};
